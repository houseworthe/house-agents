<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 700" style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Inter', sans-serif;">
  <defs>
    <style>
      .title { font-size: 28px; font-weight: 700; fill: #1e293b; }
      .subtitle { font-size: 18px; font-weight: 600; fill: #475569; }
      .label { font-size: 14px; font-weight: 500; fill: #64748b; }
      .metric { font-size: 16px; font-weight: 600; }
      .large-metric { font-size: 32px; font-weight: 700; }
      .small-text { font-size: 12px; fill: #94a3b8; }

      .danger-bg { fill: #fee2e2; }
      .danger-border { stroke: #ef4444; stroke-width: 2; fill: none; }
      .danger-text { fill: #dc2626; }
      .danger-bar { fill: #ef4444; }

      .success-bg { fill: #dcfce7; }
      .success-border { stroke: #10b981; stroke-width: 2; fill: none; }
      .success-text { fill: #059669; }
      .success-bar { fill: #10b981; }

      .agent-box { fill: #f1f5f9; stroke: #3b82f6; stroke-width: 2; rx: 8; }
      .main-box { fill: #ffffff; stroke: #cbd5e1; stroke-width: 2; rx: 8; }

      .arrow { stroke: #3b82f6; stroke-width: 2; fill: none; marker-end: url(#arrowhead); }
    </style>

    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#3b82f6" />
    </marker>
  </defs>

  <!-- Background -->
  <rect width="1200" height="700" fill="#ffffff"/>

  <!-- Main Title -->
  <text x="600" y="40" text-anchor="middle" class="title">Token Efficiency: Context Management Comparison</text>

  <!-- LEFT PANEL: Without House Agents -->
  <g id="without-agents">
    <!-- Panel Background -->
    <rect x="40" y="80" width="520" height="480" class="danger-bg"/>
    <rect x="40" y="80" width="520" height="480" class="danger-border"/>

    <!-- Panel Title -->
    <text x="300" y="115" text-anchor="middle" class="subtitle danger-text">‚ùå Without House Agents</text>

    <!-- Main Context Box (Bloated) -->
    <rect x="130" y="150" width="340" height="380" class="main-box" style="stroke: #ef4444; stroke-width: 3;"/>
    <text x="300" y="180" text-anchor="middle" class="subtitle">Main Context Window</text>

    <!-- Token Blocks (Stacked, showing overflow) -->
    <!-- Search Results -->
    <rect x="150" y="200" width="300" height="60" class="danger-bar" opacity="0.9"/>
    <text x="300" y="225" text-anchor="middle" class="metric" fill="white">Search Results</text>
    <text x="300" y="245" text-anchor="middle" class="small-text" fill="white">250,000 tokens</text>

    <!-- Documentation -->
    <rect x="150" y="270" width="300" height="60" class="danger-bar" opacity="0.8"/>
    <text x="300" y="295" text-anchor="middle" class="metric" fill="white">API Documentation</text>
    <text x="300" y="315" text-anchor="middle" class="small-text" fill="white">180,000 tokens</text>

    <!-- Command Output -->
    <rect x="150" y="340" width="300" height="60" class="danger-bar" opacity="0.7"/>
    <text x="300" y="365" text-anchor="middle" class="metric" fill="white">Command Output</text>
    <text x="300" y="385" text-anchor="middle" class="small-text" fill="white">150,000 tokens</text>

    <!-- Total -->
    <rect x="150" y="420" width="300" height="80" style="fill: #7f1d1d; opacity: 0.95;"/>
    <text x="300" y="450" text-anchor="middle" class="large-metric" fill="white">580k</text>
    <text x="300" y="475" text-anchor="middle" class="label" fill="white">Total Tokens</text>

    <!-- Warning Icon -->
    <text x="300" y="520" text-anchor="middle" style="font-size: 24px;">‚ö†Ô∏è</text>
  </g>

  <!-- RIGHT PANEL: With House Agents -->
  <g id="with-agents">
    <!-- Panel Background -->
    <rect x="640" y="80" width="520" height="480" class="success-bg"/>
    <rect x="640" y="80" width="520" height="480" class="success-border"/>

    <!-- Panel Title -->
    <text x="900" y="115" text-anchor="middle" class="subtitle success-text">‚úÖ With House Agents</text>

    <!-- Main Context Box (Clean) -->
    <rect x="730" y="340" width="340" height="180" class="main-box" style="stroke: #10b981; stroke-width: 3;"/>
    <text x="900" y="370" text-anchor="middle" class="subtitle">Main Context Window</text>

    <!-- Condensed Results -->
    <rect x="750" y="390" width="300" height="100" class="success-bar" opacity="0.3"/>
    <text x="900" y="425" text-anchor="middle" class="large-metric success-text">10k</text>
    <text x="900" y="450" text-anchor="middle" class="label">Condensed Results Only</text>
    <text x="900" y="470" text-anchor="middle" class="small-text">98% reduction</text>

    <!-- Agent Boxes (Separate Contexts) -->
    <!-- House Research -->
    <rect x="730" y="150" width="140" height="130" class="agent-box"/>
    <text x="800" y="175" text-anchor="middle" class="label" style="fill: #1e40af;">üîç Research</text>
    <text x="800" y="200" text-anchor="middle" class="metric" style="fill: #3b82f6;">250k ‚Üí 5k</text>
    <text x="800" y="220" text-anchor="middle" class="small-text">Separate Context</text>

    <!-- House MCP -->
    <rect x="880" y="150" width="140" height="130" class="agent-box"/>
    <text x="950" y="175" text-anchor="middle" class="label" style="fill: #1e40af;">üîß MCP</text>
    <text x="950" y="200" text-anchor="middle" class="metric" style="fill: #3b82f6;">180k ‚Üí 2k</text>
    <text x="950" y="220" text-anchor="middle" class="small-text">Separate Context</text>

    <!-- House Bash -->
    <rect x="1030" y="150" width="140" height="130" class="agent-box"/>
    <text x="1100" y="175" text-anchor="middle" class="label" style="fill: #1e40af;">‚ö° Bash</text>
    <text x="1100" y="200" text-anchor="middle" class="metric" style="fill: #3b82f6;">150k ‚Üí 3k</text>
    <text x="1100" y="220" text-anchor="middle" class="small-text">Separate Context</text>

    <!-- Arrows pointing to main context -->
    <path d="M 800 280 L 850 340" class="arrow"/>
    <path d="M 950 280 L 900 340" class="arrow"/>
    <path d="M 1100 280 L 950 340" class="arrow"/>

    <!-- Check Icon -->
    <text x="900" y="530" text-anchor="middle" style="font-size: 24px;">‚úì</text>
  </g>

  <!-- Bottom Metrics Bar -->
  <rect x="40" y="600" width="1120" height="80" fill="#f8fafc" stroke="#e2e8f0" stroke-width="2" rx="8"/>

  <!-- Savings Metric -->
  <text x="300" y="635" text-anchor="middle" class="subtitle" style="fill: #10b981;">98% Token Reduction</text>
  <text x="300" y="658" text-anchor="middle" class="small-text">580k ‚Üí 10k tokens</text>

  <!-- Cost Metric -->
  <text x="600" y="635" text-anchor="middle" class="subtitle" style="fill: #3b82f6;">$1.50 Saved</text>
  <text x="600" y="658" text-anchor="middle" class="small-text">Per complex operation</text>

  <!-- Efficiency Metric -->
  <text x="900" y="635" text-anchor="middle" class="subtitle" style="fill: #8b5cf6;">Parallel Processing</text>
  <text x="900" y="658" text-anchor="middle" class="small-text">3 agents run simultaneously</text>
</svg>
